05Â½.110 Sed

The name "sed" comes from Stream EDitor.  It can do a lot of things.  It works something like global search and replace.  It does work on streams.  The stream may be a file, but the concept is that it works on pipes.  Sed can work on files, but it also often works as a series of pipes.

The workhorse command for sed is the "s" command.  The s command takes two arguments in the simplest case, the first argument is the string we are looking for.  The second is the replacement.  The following would replace all occurances of "foo" with "bar"

```bash
echo 'Fee foo fig foo foood ' | sed s/foo/bar/
echo 'Fee foo fig foo foood ' | sed s/foo/bar/g
``` 
Produces

    Fee bar fig foo foood 
    Fee bar fig bar barod     

The "g" at the end means "global."  If it was not there it would only change the first occurence of foo.

Sed uses regular expressions.  However, there are spome differences in the ways special characters are used.

Consider the file in this folder called "logins.txt."  We want to append @missouriwestern.edu onto the end of the login id.  The following command references the login.txt file at the end of the command.

```bash
sed s/:.*$/@missouriwestern.edu/ login.txt 
```

The above will not work.  It would replace everything from the colon with @missouriwestern.edu.

The following uses \&.  The \% uses the found expression in the replacement.

```bash
sed s/:.*$/\&@missouriwestern.edu/ logins.txt
```

Now, let's assume we only want to get the email addresses.  And we want the emails to be all lower case.  How about this:

```bash
sed s/:.*$/\&@missouriwestern.edu/ logins.txt | cut -d: -f2 | tr A-Z a-z
```
```bash
sed s/:.*$/\&@missouriwestern.edu/ logins.txt | cut -d: -f2 | tr A-Z a-z
```

